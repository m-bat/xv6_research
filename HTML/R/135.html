<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>PGSIZE</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/90.html#L55'>PGSIZE</a>             55 exec.c             if(ph.vaddr % PGSIZE != 0)</span>
<span class='curline'><a href='../S/90.html#L67'>PGSIZE</a>             67 exec.c           if((sz = allocuvm(pgdir, sz, sz + 2*PGSIZE)) == 0)</span>
<span class='curline'><a href='../S/90.html#L69'>PGSIZE</a>             69 exec.c           clearpteu(pgdir, (char*)(sz - 2*PGSIZE));</span>
<span class='curline'><a href='../S/15.html#L94'>PGSIZE</a>             94 file.c             setptew(p-&gt;pgdir, (char *)f, PGSIZE, 0);</span>
<span class='curline'><a href='../S/168.html#L66'>PGSIZE</a>             66 kalloc.c         for(; p + PGSIZE &lt;= (char*)vend; p += PGSIZE)</span>
<span class='curline'><a href='../S/168.html#L80'>PGSIZE</a>             80 kalloc.c         if((uint)v % PGSIZE || v &lt; end || V2P(v) &gt;= PHYSTOP)</span>
<span class='curline'><a href='../S/168.html#L84'>PGSIZE</a>             84 kalloc.c         memset(v, 1, PGSIZE);</span>
<span class='curline'><a href='../S/168.html#L190'>PGSIZE</a>            190 kalloc.c         memset((char *)cpus, 0, PGSIZE);</span>
<span class='curline'><a href='../S/155.html#L114'>PGSIZE</a>            114 main.c         __attribute__((__aligned__(PGSIZE)))</span>
<span class='curline'><a href='../S/122.html#L134'>PGSIZE</a>            134 mmu.h          #define PGROUNDUP(sz)  (((sz)+PGSIZE-1) &amp; ~(PGSIZE-1))</span>
<span class='curline'><a href='../S/122.html#L135'>PGSIZE</a>            135 mmu.h          #define PGROUNDDOWN(a) (((a)) &amp; ~(PGSIZE-1))</span>
<span class='curline'><a href='../S/64.html#L55'>PGSIZE</a>             55 proc.c             memset(ptable, 0, PGSIZE); //set UNUSED 0</span>
<span class='curline'><a href='../S/64.html#L186'>PGSIZE</a>            186 proc.c           p-&gt;sz = PGSIZE;</span>
<span class='curline'><a href='../S/64.html#L193'>PGSIZE</a>            193 proc.c           p-&gt;tf-&gt;esp = PGSIZE;</span>
<span class='curline'><a href='../S/158.html#L93'>PGSIZE</a>             93 vm.c               pgtab = (pte_t*)P2V(PTE_ADDR(*pde));</span>
<span class='curline'><a href='../S/158.html#L121'>PGSIZE</a>            121 vm.c               if(*pte &amp; PTE_P)</span>
<span class='curline'><a href='../S/158.html#L122'>PGSIZE</a>            122 vm.c                 panic("remap");</span>
<span class='curline'><a href='../S/158.html#L181'>PGSIZE</a>            181 vm.c             pde_t *pgdir;</span>
<span class='curline'><a href='../S/158.html#L219'>PGSIZE</a>            219 vm.c              </span>
<span class='curline'><a href='../S/158.html#L308'>PGSIZE</a>            308 vm.c               //cprintf("ptable addr: %x\n", ptable);</span>
<span class='curline'><a href='../S/158.html#L309'>PGSIZE</a>            309 vm.c               //int size = PGROUNDUP(sizeof(ptable));</span>
<span class='curline'><a href='../S/158.html#L310'>PGSIZE</a>            310 vm.c               //cprintf("ptable size %d\n", size);</span>
<span class='curline'><a href='../S/158.html#L311'>PGSIZE</a>            311 vm.c               cprintf("keme size: %x\n", sizeof(kmem));</span>
<span class='curline'><a href='../S/158.html#L313'>PGSIZE</a>            313 vm.c               //********* Kenel Global  *********************</span>
<span class='curline'><a href='../S/158.html#L314'>PGSIZE</a>            314 vm.c               setptew(p-&gt;pgdir, (char *)cpus, PGSIZE, 1);</span>
<span class='curline'><a href='../S/158.html#L315'>PGSIZE</a>            315 vm.c               setptew(p-&gt;pgdir, (char *)cons, PGSIZE, 1);</span>
<span class='curline'><a href='../S/158.html#L328'>PGSIZE</a>            328 vm.c               //********* Kernel Process Local  *************</span>
<span class='curline'><a href='../S/158.html#L351'>PGSIZE</a>            351 vm.c           // Load the initcode into address 0 of pgdir.</span>
<span class='curline'><a href='../S/158.html#L361'>PGSIZE</a>            361 vm.c             mem = kalloc(ALLOC_KGLOBAL);</span>
<span class='curline'><a href='../S/158.html#L362'>PGSIZE</a>            362 vm.c             //add manabu</span>
<span class='curline'><a href='../S/158.html#L374'>PGSIZE</a>            374 vm.c           // Load a program segment into pgdir.  addr must be page-aligned</span>
<span class='curline'><a href='../S/158.html#L376'>PGSIZE</a>            376 vm.c           int</span>
<span class='curline'><a href='../S/158.html#L380'>PGSIZE</a>            380 vm.c             pte_t *pte;</span>
<span class='curline'><a href='../S/158.html#L383'>PGSIZE</a>            383 vm.c               panic("loaduvm: addr must be page aligned");</span>
<span class='curline'><a href='../S/158.html#L404'>PGSIZE</a>            404 vm.c             uint a;</span>
<span class='curline'><a href='../S/158.html#L411'>PGSIZE</a>            411 vm.c             a = PGROUNDUP(oldsz);</span>
<span class='curline'><a href='../S/158.html#L412'>PGSIZE</a>            412 vm.c             for(; a &lt; newsz; a += PGSIZE){</span>
<span class='curline'><a href='../S/158.html#L436'>PGSIZE</a>            436 vm.c           {</span>
<span class='curline'><a href='../S/158.html#L439'>PGSIZE</a>            439 vm.c             //uint tmp = 0;</span>
<span class='curline'><a href='../S/158.html#L523'>PGSIZE</a>            523 vm.c           </span>
<span class='curline'><a href='../S/158.html#L560'>PGSIZE</a>            560 vm.c             size = kmap[2].phys_end - kmap[2].phys_start;</span>
<span class='curline'><a href='../S/158.html#L578'>PGSIZE</a>            578 vm.c               if (a == last) {</span>
<span class='curline'><a href='../S/158.html#L587'>PGSIZE</a>            587 vm.c           </span>
<span class='curline'><a href='../S/158.html#L588'>PGSIZE</a>            588 vm.c           // Given a parent process's page table, create a copy</span>
<span class='curline'><a href='../S/158.html#L628'>PGSIZE</a>            628 vm.c             if((*pte &amp; PTE_P) == 0)</span>
<span class='curline'><a href='../S/158.html#L634'>PGSIZE</a>            634 vm.c           </span>
</pre>
</body>
</html>
